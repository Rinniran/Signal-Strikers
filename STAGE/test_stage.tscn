[gd_scene load_steps=14 format=3 uid="uid://yg5pdcaugqa6"]

[ext_resource type="PackedScene" uid="uid://fbh2rx1m00sb" path="res://OBJ/HUD.tscn" id="1_17jg7"]
[ext_resource type="PackedScene" uid="uid://btrijx7yily84" path="res://OBJ/PLAYER/BASE/player.tscn" id="2_ibli1"]
[ext_resource type="PackedScene" uid="uid://bnxbd380sviwo" path="res://OBJ/GameCam.tscn" id="3_uuty8"]
[ext_resource type="Shader" uid="uid://dia1ai5ec480i" path="res://SHADERS/Skybox.gdshader" id="5_7e8jl"]
[ext_resource type="PackedScene" uid="uid://psp4b3ibmovq" path="res://CHARACTERMESH/ZAPPY/Zappy.blend" id="6_17jg7"]
[ext_resource type="Texture2D" uid="uid://bdhpiwvnt6yb2" path="res://TEX/Cloudy_Sky-Night_03-512x512.png" id="6_u3smo"]

[sub_resource type="BoxMesh" id="BoxMesh_vwyws"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uww70"]
albedo_color = Color(0.215902, 0.215902, 0.215902, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_vwyws"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_w0uf1"]

[sub_resource type="Sky" id="Sky_vwyws"]
sky_material = SubResource("ProceduralSkyMaterial_w0uf1")

[sub_resource type="Environment" id="Environment_uww70"]
background_mode = 1
background_energy_multiplier = 3.53
sky = SubResource("Sky_vwyws")
ambient_light_source = 2
ambient_light_color = Color(0.618155, 0.0505182, 0.926584, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lawq8"]
render_priority = 0
shader = ExtResource("5_7e8jl")
shader_parameter/sky_texture = ExtResource("6_u3smo")
shader_parameter/lock_aspect = false
shader_parameter/aspect_ratio = 1.33333
shader_parameter/fov = Vector2(180, 90)
shader_parameter/tiling = Vector2i(1, 1)
shader_parameter/offset = Vector2(0, 0)

[node name="TestStage" type="Node3D"]

[node name="Hud" parent="." instance=ExtResource("1_17jg7")]
z_index = 4096
offset_left = 1.0
offset_right = 1.0

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.0265259, 0.999648, 0, -0.999648, -0.0265259, 0, 11.6, -17.6823)
light_color = Color(0.414483, 0.401882, 0.899543, 1)
light_energy = 15.706
light_indirect_energy = 3.748
light_volumetric_fog_energy = 4.232
light_bake_mode = 1
distance_fade_enabled = true
spot_range = 30.88
spot_attenuation = 0.19
spot_angle = 53.2

[node name="SpotLight3D2" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.0265259, 0.999648, 0, -0.999648, -0.0265259, 0, 11.6, -1.57254)
light_color = Color(0.13207, 0.521603, 0.696878, 1)
light_energy = 12.474
light_indirect_energy = 3.748
light_volumetric_fog_energy = 4.232
light_bake_mode = 1
distance_fade_enabled = true
spot_range = 30.88
spot_attenuation = 0.19
spot_angle = 60.4688

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(119.043, 0, 0, 0, 1, 0, 0, 0, 158.897, 0, -0.402402, 0)
mesh = SubResource("BoxMesh_vwyws")
surface_material_override/0 = SubResource("StandardMaterial3D_uww70")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_vwyws")

[node name="Player" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("2_ibli1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.00742, 0)
camera = NodePath("../CamPivot")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_uww70")

[node name="CamPivot" parent="." node_paths=PackedStringArray("target", "player") instance=ExtResource("3_uuty8")]
target = NodePath("../Zappy")
player = NodePath("../Player")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.999977, 0.00110398, 0.00671661, -0.00680673, 0.162186, 0.986737, 0, -0.98676, 0.162189, 0, 9.61491, 0)
light_color = Color(0, 0, 0.972549, 1)
light_energy = 7.142
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.0
directional_shadow_mode = 0
sky_mode = 1

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.453648, 0.14454, 0.879381, -0.891181, 0.0735769, 0.447642, -1.49844e-11, -0.98676, 0.162189, 28.5107, 3.10826, 0)
light_color = Color(0.545098, 0, 0, 1)
light_energy = 5.848
light_indirect_energy = 0.0
directional_shadow_mode = 0
sky_mode = 1

[node name="DirectionalLight3D3" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.203676, -0.15879, -0.966076, 0.979038, 0.0330341, 0.200979, -2.00921e-10, -0.98676, 0.162189, -44.4398, 3.10826, 0)
light_color = Color(0, 1, 0.129412, 1)
light_energy = 5.686
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_bake_mode = 0
directional_shadow_mode = 0
sky_mode = 1

[node name="CSGSphere3D" type="CSGSphere3D" parent="."]
flip_faces = true
radius = 400.004
material = SubResource("ShaderMaterial_lawq8")

[node name="Zappy" parent="." instance=ExtResource("6_17jg7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08072, 0.097598, -17.247)

[editable path="CamPivot"]
